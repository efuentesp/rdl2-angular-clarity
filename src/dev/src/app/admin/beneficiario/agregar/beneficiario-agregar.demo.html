<div class="card-header">
    Agregar Beneficiario
</div> 

<form class="form" [formGroup]="beneficiarioForm" (ngSubmit)="guardaBeneficiario() && !beneficiarioForm.invalid">
    <div style="margin: 20px;">
    <div class="clr-form-control">
        <label for="curp" class="clr-control-label">Curp<span class="required">*</span></label>
        <div class="clr-control-container clr-col-md-12"> 
            <label for="curp" aria-haspopup="true" role="tooltip" class="tooltip tooltip-validation tooltip-sm clr-input clr-col-sm-11 clr-col-md-11"
                    [class.invalid]="beneficiarioForm.get('curp').invalid && (beneficiarioForm.get('curp').dirty || beneficiarioForm.get('curp').touched)">
                <input id="curp" type="text" formControlName="curp" placeholder="Curp" class="clr-input clr-col-sm-11 clr-col-md-12" >
                <span class="tooltip-content">
                    Curp es requerido.
                </span>
            </label>
        </div>
    </div>
    <div class="clr-form-control">
        <label for="nombre" class="clr-control-label">Nombre<span class="required">*</span></label>
        <div class="clr-control-container clr-col-md-12"> 
            <label for="nombre" aria-haspopup="true" role="tooltip" class="tooltip tooltip-validation tooltip-sm clr-input clr-col-sm-11 clr-col-md-11"
                    [class.invalid]="beneficiarioForm.get('nombre').invalid && (beneficiarioForm.get('nombre').dirty || beneficiarioForm.get('nombre').touched)">
                <input id="nombre" type="text" formControlName="nombre" placeholder="Nombre" class="clr-input clr-col-sm-12 clr-col-md-12">
                <span class="tooltip-content">
                    Nombre es requerido.
                </span>
            </label>
        </div>
    </div>
    <div class="clr-form-control">
        <label for="apellidopaterno" class="clr-control-label">Apellido Paterno<span class="required">*</span></label>
        <div class="clr-control-container clr-col-md-12"> 
            <label for="apellidopaterno" aria-haspopup="true" role="tooltip" class="tooltip tooltip-validation tooltip-sm clr-input clr-col-sm-11 clr-col-md-11"
                    [class.invalid]="beneficiarioForm.get('apellidopaterno').invalid && (beneficiarioForm.get('apellidopaterno').dirty || beneficiarioForm.get('apellidopaterno').touched)">
                <input id="apellidopaterno" type="text" formControlName="apellidopaterno" placeholder="Apellido Paterno" class="clr-input clr-col-sm-12 clr-col-md-12">
                <span class="tooltip-content">
                    Apellido Paterno es requerido.
                </span>
            </label>
        </div>
    </div>
    <div class="clr-form-control">
        <label for="apellidomaterno" class="clr-control-label">Apellido Materno<span class="required">*</span></label>
        <div class="clr-control-container clr-col-md-12"> 
            <label for="apellidomaterno" aria-haspopup="true" role="tooltip" class="tooltip tooltip-validation tooltip-sm clr-input clr-col-sm-11 clr-col-md-11"
                    [class.invalid]="beneficiarioForm.get('apellidomaterno').invalid && (beneficiarioForm.get('apellidomaterno').dirty || beneficiarioForm.get('apellidomaterno').touched)">
                <input id="apellidomaterno" type="text" formControlName="apellidomaterno" placeholder="Apellido Materno" class="clr-input clr-col-sm-12 clr-col-md-12">
                <span class="tooltip-content">
                    Apellido Materno es requerido.
                </span>
            </label>
        </div>
    </div>
    <div class="clr-form-control">
        <label for="fechanacimiento" class="clr-control-label">Fecha de Nacimiento<span class="required">*</span></label>
        <div class="clr-control-container clr-col-md-12"> 
            <!-- <label for="fechaafiliacion" aria-haspopup="true" role="tooltip" class="tooltip tooltip-validation tooltip-sm clr-input clr-col-sm-11 clr-col-md-11"
                    [class.invalid]="afiliadoForm.get('fechaafiliacion').invalid && (afiliadoForm.get('fechaafiliacion').dirty || afiliadoForm.get('fechaafiliacion').touched)"> -->
                <input id="fechanacimiento" type="date" formControlName="fechanacimiento" placeholder="Fecha de Nacimiento" clrDate class="clr-input clr-col-sm-12 clr-col-md-12">
                <!-- <span class="tooltip-content">
                    Fecha de Afiliación es requerido.
                </span> -->
            <!-- </label> -->
        </div>
    </div>
    <div class="clr-form-control" id="afiliado1Id">
        <label for="afiliado1Item" class="clr-control-label">Afiliado<span class="required">*</span></label>
        <div class="clr-control-container clr-col-md-12"> 
            <div class="clr-input-wrapper">
            <label for="afiliado1Item" aria-haspopup="true" role="tooltip" class="tooltip tooltip-validation tooltip-sm clr-input clr-col-sm-11 clr-col-md-11"
                    [class.invalid]="beneficiarioForm.get('afiliado1Item').invalid && (beneficiarioForm.get('afiliado1Item').dirty || beneficiarioForm.get('afiliado1Item').touched)">
                <input id="afiliado1Id"   type="hidden" formControlName="afiliado1Id" placeholder="Afiliado" class="clr-input clr-col-sm-12 clr-col-md-12" disabled>
                <input id="afiliado1Item" type="text"   formControlName="afiliado1Item" placeholder="Afiliado" class="clr-input clr-col-sm-12 clr-col-md-12" disabled>
                <!-- <button class="btn btn-primary" (click)="basic = true"><clr-icon shape="search"></clr-icon></button> -->
                <!-- <clr-icon shape="search" ng-click="basic = true"></clr-icon>
                <button class="btn btn-primary" (click)="basic = true"><clr-icon shape="search"></clr-icon></button> -->
                <button class="btn btn-sm" type="button" style="margin-top: -17px" (click)="basic = true"><clr-icon shape="search"></clr-icon></button>
                <span class="tooltip-content">
                    Afiliado es requerido.
                </span>
            </label>
            </div>
        </div>
    </div>
    <!-- <p>Form value {{ beneficiarioForm.value | json }} </p>
    <p> Form status {{ beneficiarioForm.status | json}} </p>  -->


    <clr-modal [(clrModalOpen)]="basic" class="modal-dialog modal-xl"  style="width: 700px">
        <h3 class="modal-title">Afiliados</h3>

        <div class="modal-body">
           
            
        <div class="card-block">
            
                <clr-datagrid [clrDgLoading]="loading">
                    <clr-dg-placeholder>No se encontró información.</clr-dg-placeholder>
                    <clr-dg-column>
                            
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'id'" hidden="true">
                            Id  
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'nss'">
                        <ng-container *clrDgHideableColumn="{hidden: false}"> 
                            Nss
                        </ng-container>    
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'nombre'">
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            Nombre
                        </ng-container> 
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'apellidopaterno'">
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            Apellido Paterno
                        </ng-container> 
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'apellidomaterno'">
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            Apellido Materno
                        </ng-container> 
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'genero1Id'">
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            Genero
                        </ng-container> 
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'genero1Item'">
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            Genero
                        </ng-container> 
                    </clr-dg-column>    
                    <clr-dg-column [clrDgField]="'observaciones'">
                        <ng-container *clrDgHideableColumn="{hidden: true}">
                            Observaciones
                        </ng-container> 
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'fechaafiliacion'">
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            Fecha de Afiliación
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'foto'">
                        <ng-container *clrDgHideableColumn="{hidden: true}">
                            Foto
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'actanacimiento'">
                        <ng-container *clrDgHideableColumn="{hidden: true}">
                            Acta de Nacimiento
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'correo'">
                        <ng-container *clrDgHideableColumn="{hidden: true}">
                            Correo 
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'semanascotizadas'">
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            Semanas Cotizadas
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'nombre'">
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            Número
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-row *clrDgItems="let afiliado1 of afiliados1Array" [clrDgItem]="afiliado1">
                            <clr-dg-cell><input type="radio" name="afiliado1Id" [checked]="afiliado1.checked" value="{{afiliado1.afiliadoId}}" (click)="setClickedRowAfiliado1(i, afiliado1)"></clr-dg-cell>
                            <clr-dg-cell hidden="true">{{afiliado1.id}}</clr-dg-cell>
                            <clr-dg-cell>{{afiliado1.nss}}</clr-dg-cell>
                            <clr-dg-cell>{{afiliado1.nombre}}</clr-dg-cell>
                            <clr-dg-cell>{{afiliado1.apellidopaterno}}</clr-dg-cell>
                            <clr-dg-cell>{{afiliado1.apellidomaterno}}</clr-dg-cell>
                            <clr-dg-cell>{{afiliado1.genero1Id}}</clr-dg-cell>
                            <clr-dg-cell>{{afiliado1.genero1Item}}</clr-dg-cell>
                            <clr-dg-cell>{{afiliado1.observaciones}}</clr-dg-cell>
                            <clr-dg-cell>{{afiliado1.fechaafiliacion | date:'dd/MM/yyyy'}}</clr-dg-cell>
                            <clr-dg-cell>{{afiliado1.foto}}</clr-dg-cell>
                            <clr-dg-cell>{{afiliado1.actanacimiento}}</clr-dg-cell>
                            <clr-dg-cell>{{afiliado1.correo}}</clr-dg-cell>
                            <clr-dg-cell>{{afiliado1.semanascotizadas}}</clr-dg-cell>
                            <clr-dg-cell>{{afiliado1.numero}}</clr-dg-cell>
                            
                        </clr-dg-row>
                        <clr-dg-footer>
                            <clr-dg-column-toggle>
                                <clr-dg-column-toggle-title>Elegir columnas</clr-dg-column-toggle-title>
                                <clr-dg-column-toggle-button>Seleccionar todas</clr-dg-column-toggle-button>
                            </clr-dg-column-toggle>
                            <clr-dg-pagination #pagination [clrDgPageSize]="10">
                                {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}}
                                de {{pagination.totalItems}} registros
                            </clr-dg-pagination>
                        </clr-dg-footer>
            
                </clr-datagrid>
            </div>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-outline" (click)="basic = false">Regresar</button>
                <button type="button" class="btn btn-primary" (click)="basic = false">Elegir</button>
            </div>
    </clr-modal>


    <p>
        <button type="submit" class="btn btn-primary" ><clr-icon shape="success-standard"></clr-icon> Agregar</button>
        <button type="submit" class="btn btn-outline" [routerLink]="['../administrar']" ><clr-icon shape="undo"></clr-icon> Regresar</button>
    </p>

<!--   
            <clr-modal class="modal-dialog modal-xl" role="dialog" aria-hidden="true"  [(clrModalOpen)]="basic">
                <div class="modal-content">
                <div class="modal-header">
                    <button aria-label="Close" class="close" type="button">
                    <clr-icon aria-hidden="true" shape="close"></clr-icon>
                    </button>
                    <h3 class="modal-title">Extra large modal</h3>
                </div>
                <div class="modal-body">
                    I am an extra large modal.
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline" type="button">Cancel</button>
                    <button class="btn btn-primary" type="button">Ok</button>
                </div>
                </div>
            </clr-modal > -->
           
  




    </div>
</form>


